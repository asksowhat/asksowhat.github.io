---
title: Spring Boot+Vue cli项目部署问题
date: 2020-07-19
category: Note
tags:
    - web
permalink: /posts/202007191.html
---

今天把写好的前后端分离小项目部署到服务器，没有想象的那么顺利，记录一下中间遇到的问题，以及解决的办法。

## 后端

使用Spring Boot + Mybatis

后端部署到好弄的很，这次使用的内嵌的tomcat，相当于自己不用配置tomcat环境了，其实我以前也配置好了。

jar包，每次只需要上传，然后执行一条命令就可以让项目跑起来；war包，前期自己需要配置好tomcat环境，然后将war包复制到webapps文件夹即可。

这里简单记录下如何使用jar包部署。

### 项目运行

```sh
nohub java -jar xx.jar &
```

`xx`为你的jar包名，&代表程序在后台运行。

### 项目停止

```sh
lsof -i:9090
```

`9090`为你的项目端口号，这条命令包含`pid`，使用`kill pid号`即可停止这个程序。

## 前端

使用vue cli 4.4.6 + element ui

前端项目部署的时候，其实还是遇到了很多的问题的，例如生成项目静态文件夹后，复制到到web服务器中并不能访问`404`，访问路径中包含`#`的问题，查了很多资料不知道是服务器的原因还是什么原因，`#`号问题一直都不能解决*_*

`web`服务器的选择有很多种，可以选择`tomcat`，`apache2`，`nginx`，这里我使用的是`apache2`和`tomcat`都不能解决`#`号问题，我感觉是`vue cli`的问题了。

那就先记录下访问路径404的问题吧。

### 解决vue项目部署静态资源404问题

在vue cli项目的根目录创建`vue.config.js`文件，里面内容如下

```js
module.exports = {
    publicPath: './'
}
```

默认的是`/`会出现`404`问题，前面加上一个点就是当前路径了，或者也可以写成`/root`等等，这个`root`就是就是你放在`web`服务器的项目名了。

添加完这个文件之后再打包部署就能解决这个问题了，`#`号问题先放着。